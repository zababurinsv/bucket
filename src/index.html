<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Bucket</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
</head>
<body>
<noscript>
    Включите потдержку скриптов
</noscript>
<fieldset class="-views">
    <legend>main form</legend>
    <div  class="-views__container"></div>
</fieldset>
<fieldset class="-bucket">
    <legend>Bucket</legend>
   <div  class="-bucket__container"></div>
</fieldset>

<template id="items"> 
      <div class="item"> 
             item 1  
      </div> 
 </template>
</body> 
<script type="module">
   import listener from './listener.mjs'
   if('content' in document.createElement('template')) {
   let template = document.querySelector('#items')
   let docs = {
        views: {
            parent: document.querySelector('.-views'),
            container:  document.querySelector('.-views__container')
        },
        bucket: {
            parent: document.querySelector('.-bucket'),
            container: document.querySelector('.-bucket__container')
        },
        get: {
            template: {
                bucket:  async (props) => { 
                  let item  = template.content.cloneNode(true) 
                   let container = item.querySelector('.item')
                   container.classList.add(`item_${props.position}`)
                   for(let i =0; i < props.colums; i++) {
                        let child = document.createElement('div')
                        child.textContent = i
                        container.appendChild(child)
                   } 
                    return item 
                 }
             }
        },
        template: {
            bucket: document.querySelector('#item'),
        },
        worker: undefined
    };
    
    (async () =>  {
         let manager = await import("https://zababurinsv.github.io/z-events/index.min.mjs");
         manager.tests("https://zababurinsv.github.io/tests/07_10_2021/test_07_10_2021.index.mjs");
         docs.worker = new Worker(new URL('./worker.mjs', import.meta.url), { type: "module" });
         await listener(docs);
    })()
   } else {
      //  let manager = await import("https://zababurinsv.github.io/z-events/index.min.mjs");
      // manager.devTool()
        console.warn('нет атрибута content у элемента template')
   }
</script>
 <style> @import url("./index.css");</style> 
</html>